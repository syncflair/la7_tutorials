(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{0:function(t,e,a){"use strict";function s(t,e,a,s,i,r,n,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),s&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),n?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},l._ssrRegister=c):i&&(c=o?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:t,options:l}}a.d(e,"a",(function(){return s}))},191:function(t,e,a){"use strict";a.r(e);var s={name:"Category",data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,searchText:"",editMode:!1,parentCategories:"",countCategory:"",categories:{},form:new Form({id:"",parent_id:"",cat_name:"",cat_slug:"",is_enabled:"",cat_img:""})}},methods:{searchit:_.debounce((function(){FireEvent.$emit("searching")}),300),getResults:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.get("/spa/category?page="+e).then((function(e){t.categories=e.data}))},parentCategory:function(){var t=this;axios.get("/spa/parent-category").then((function(e){t.parentCategories=e.data}))},fetchCategory:function(){var t=this;this.$Progress.start(),this.form.get("/spa/category").then((function(e){t.categories=e.data,t.$Progress.finish()})).catch((function(e){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},countTotalCategory:function(){var t=this;axios.get("/spa/count-category").then((function(e){t.countCategory=e.data})).catch((function(t){toastr.warning("Something is wrong!")}))},onImageChange:function(t){var e=this,a=t.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(a);var s=new FileReader;a.size>512e3?toastr.warning("Please select file size within 500kb"):(s.onloadend=function(t){e.form.cat_img=s.result},s.readAsDataURL(a))},storeCategory:function(){var t=this;this.$Progress.start(),this.form.post("/spa/category").then((function(e){var a=e.data;a.success&&(FireEvent.$emit("AfterChange"),toastr.success(a.success),t.$Progress.finish(),t.form.reset(),t.form.clear(),t.$refs.cat_img.value="",t.ShowOnChangeImage=null,t.$refs.cat_name.focus()),a.errors&&toastr.warning(a.errors)})).catch((function(){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},editCategory:function(t){this.editMode=!0,this.form.reset(),this.form.fill(t),this.$refs.cat_img.value="",this.ShowOnChangeImage=null,this.$refs.cat_name.focus()},clearEditCategory:function(){this.editMode=!1,this.form.reset(),this.form.clear(),this.$refs.cat_img.value="",this.ShowOnChangeImage=null},updateCategory:function(){var t=this;this.$Progress.start(),this.form.put("/spa/category/"+this.form.id).then((function(e){var a=e.data;a.success&&(FireEvent.$emit("AfterChange"),t.$Progress.finish(),toastr.success(a.success),t.form.reset(),t.form.clear(),t.$refs.cat_img.value="",t.ShowOnChangeImage=null,t.editMode=!1,t.$refs.cat_name.focus()),a.errors&&toastr.warning(a.errors)})).catch((function(){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},deleteCategory:function(t){var e=this;Swal.fire({title:"Are you sure to Delete?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.value?e.form.delete("/spa/category/"+t).then((function(t){var e=t.data;e.success&&(FireEvent.$emit("AfterChange"),toastr.warning(e.success)),e.errors&&toastr.warning(e.errors)})).catch((function(){toastr.warning("Something is wrong!")})):toastr.info("Your data is safe!")}))},unactiveCat:function(t){this.form.get("/spa/unactive-category/"+t).then((function(t){var e=t.data;e.success&&(FireEvent.$emit("AfterChange"),toastr.warning(e.success))})).catch((function(){toastr.warning("Something is wrong!")}))},activeCat:function(t){this.form.get("/spa/active-category/"+t).then((function(t){var e=t.data;e.success&&(FireEvent.$emit("AfterChange"),toastr.success(e.success))})).catch((function(){toastr.warning("Something is wrong!")}))}},created:function(){var t=this;this.fetchCategory(),this.countTotalCategory(),this.parentCategory(),FireEvent.$on("searching",(function(){var e=t.searchText;axios.get("/spa/search-category?q="+e).then((function(e){t.categories=e.data})).catch((function(){}))})),FireEvent.$on("AfterChange",(function(){t.fetchCategory(),t.countTotalCategory(),t.parentCategory()}))},components:{}},i=a(0),r=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"card vue-card"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-sm-7"},[a("div",{staticClass:"card vue-card-item"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-sm-6"},[t._v("Category List")]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-6 text-right"},[a("div",{staticClass:"input-group input-control-sm search-box",staticStyle:{position:"relative"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"form-control form-control-sm form-control-navbar",attrs:{type:"text",name:"",placeholder:"Search...","aria-label":"Search"},domProps:{value:t.searchText},on:{keyup:t.searchit,input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-navbar btn-sm border",on:{click:t.searchit}},[a("i",{staticClass:"fas fa-search blue"})])])])])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("table",{staticClass:"table table-striped table-sm"},[t._m(1),t._v(" "),a("tbody",t._l(t.categories.data,(function(e){return a("tr",[null===e.cat_img?a("td",[a("img",{attrs:{src:"../"+t.NoIconUrl,height:"30px",width:"30px"}})]):t._e(),t._v(" "),null!=e.cat_img?a("td",[a("img",{attrs:{src:"../"+e.cat_img,height:"30px",width:"30px"}})]):t._e(),t._v(" "),a("td",[a("span",{attrs:{title:e.cat_slug}},[t._v(t._s(t._f("upText")(e.cat_name)))])]),t._v(" "),null===e.cat2_name?a("td",[t._v(" - ")]):t._e(),t._v(" "),null!=e.cat2_name?a("td",[t._v(t._s(e.cat2_name))]):t._e(),t._v(" "),null===e.cat3_name?a("td",[t._v(" - ")]):t._e(),t._v(" "),null!=e.cat3_name?a("td",[t._v(t._s(e.cat3_name))]):t._e(),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:1==e.is_enabled,expression:"category.is_enabled == 1"}],staticClass:"green"},[t._v(" Active ")]),t._v(" "),a("td",{directives:[{name:"show",rawName:"v-show",value:0==e.is_enabled,expression:"category.is_enabled == 0"}],staticClass:"red text-bold"},[t._v(" Inactive ")]),t._v(" "),a("td",{staticClass:"text-right"},[a("a",{directives:[{name:"show",rawName:"v-show",value:1==e.is_enabled,expression:"category.is_enabled == 1"}],staticClass:"btn btn-flat btn-sm",attrs:{title:"Click to Unactive"},on:{click:function(a){return t.unactiveCat(e.id)}}},[a("i",{staticClass:"far fa-thumbs-down red"})]),t._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:0==e.is_enabled,expression:"category.is_enabled == 0"}],staticClass:"btn btn-flat btn-sm",attrs:{title:"Click to Active"},on:{click:function(a){return t.activeCat(e.id)}}},[a("i",{staticClass:"far fa-thumbs-up green"})]),t._v(" "),a("a",{staticClass:"btn  btn-primary- btn-flat btn-sm",on:{click:function(a){return t.editCategory(e)}}},[a("i",{staticClass:"fas fa-edit primary "})]),t._v(" "),a("a",{staticClass:"btn btn-block- btn-danger- btn-flat btn-sm",attrs:{id:"delete"},on:{click:function(a){return t.deleteCategory(e.id)}}},[a("i",{staticClass:"far fa-trash-alt red"})])])])})),0)])]),t._v(" "),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("span",[t._v(" Total: "+t._s(t.countCategory))])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("pagination",{attrs:{data:t.categories,align:"right",size:"small"},on:{"pagination-change-page":t.getResults}},[a("span",{attrs:{slot:"prev-nav"},slot:"prev-nav"},[t._v("< Previous")]),t._v(" "),a("span",{attrs:{slot:"next-nav"},slot:"next-nav"},[t._v("Next >")])])],1)])])])]),t._v(" "),a("div",{staticClass:"col-md-4 col-sm-5 text-right-"},[a("div",{staticClass:"card vue-card-item"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],staticClass:"card-header"},[a("h4",[t._v("Add Category")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"card-header"},[a("h4",[t._v("Update Category")])]),t._v(" "),a("div",{staticClass:"card-body card-body-custome"},[a("form",{on:{submit:function(e){e.preventDefault(),t.editMode?t.updateCategory():t.storeCategory()}}},[a("div",{staticClass:"card--"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name *")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.cat_name,expression:"form.cat_name"}],ref:"cat_name",staticClass:"form-control",class:{"is-invalid":t.form.errors.has("cat_name")},attrs:{type:"text",name:"cat_name",placeholder:"Enter name"},domProps:{value:t.form.cat_name},on:{input:function(e){e.target.composing||t.$set(t.form,"cat_name",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"cat_name"}})],1),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Select Parent")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.parent_id,expression:"form.parent_id"}],staticClass:"form-control",attrs:{name:"parent_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"parent_id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(" Select Parent ")]),t._v(" "),a("option",{domProps:{value:null}},[t._v("Parent ")]),t._v(" "),t._l(t.parentCategories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\r\n                                "+t._s(e.cat_name)+"\r\n                              ")])}))],2)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cat_desc"}},[t._v("Descsiption")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.cat_desc,expression:"form.cat_desc"}],ref:"cat_desc",staticClass:"form-control",class:{"is-invalid":t.form.errors.has("cat_desc")},attrs:{name:"cat_desc",placeholder:"Descsiption"},domProps:{value:t.form.cat_desc},on:{input:function(e){e.target.composing||t.$set(t.form,"cat_desc",e.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"cat_desc"}})],1),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_enabled,expression:"form.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"is_enabled",id:"checkbox",value:"1"},domProps:{checked:Array.isArray(t.form.is_enabled)?t._i(t.form.is_enabled,"1")>-1:t.form.is_enabled},on:{change:function(e){var a=t.form.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(a)){var r=t._i(a,"1");s.checked?r<0&&t.$set(t.form,"is_enabled",a.concat(["1"])):r>-1&&t.$set(t.form,"is_enabled",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.form,"is_enabled",i)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"checkbox"}},[t._v("Is Active")])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cat_img"}},[t._v("Image")]),t._v(" "),a("input",{ref:"cat_img",staticClass:"form-control",attrs:{type:"file",name:"cat_img"},on:{change:t.onImageChange}})])]),t._v(" "),a("div",{staticClass:"col-md-3"},[null!=t.ShowOnChangeImage?a("span",[null!=t.ShowOnChangeImage?a("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"auto"},attrs:{src:t.ShowOnChangeImage}}):t._e()]):a("span",[""===t.form.cat_img||null===t.form.cat_img?a("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"auto"},attrs:{src:"../"+t.NoIconUrl}}):""!=t.form.cat_img?a("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"65px",height:"auto"},attrs:{src:"../"+t.form.cat_img}}):t._e()])])]),t._v(" "),a("div",{staticClass:"form-group mt-2"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"button"},on:{click:function(e){return t.clearEditCategory()}}},[t._v("Cancel")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}],staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"submit"}},[t._v("Update")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"submit"}},[t._v("Submit")])])])])])])])])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("ol",{staticClass:"breadcrumb float-sm-left"},[e("li",{staticClass:"breadcrumb-item active"},[this._v("Dashboard")]),this._v(" "),e("li",{staticClass:"breadcrumb-item"},[e("a",[this._v("Category")])])])]),this._v(" "),e("div",{staticClass:"col-md-6 text-right"},[this._v("Navigation")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"5%"}},[t._v("Icon")]),t._v(" "),a("th",{staticStyle:{width:"25%"}},[t._v("Level 1")]),t._v(" "),a("th",{staticStyle:{width:"25px"}},[t._v("Level 2")]),t._v(" "),a("th",{staticStyle:{width:"25px"}},[t._v("Level 3")]),t._v(" "),a("th",{staticStyle:{width:"4%"}},[t._v("Status")]),t._v(" "),a("th",{staticStyle:{width:"16%","text-align":"right"}},[t._v("Action")])])])}],!1,null,null,null);e.default=r.exports}}]);