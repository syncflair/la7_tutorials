(window.webpackJsonp=window.webpackJsonp||[]).push([[196],{0:function(t,e,s){"use strict";function r(t,e,s,r,o,a,n,i){var l,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=s,d._compiled=!0),r&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},d._ssrRegister=l):o&&(l=i?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(t,e){return l.call(e),c(t,e)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:t,options:d}}s.d(e,"a",(function(){return r}))},209:function(t,e,s){"use strict";s.r(e);var r=s(1);function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i={name:"VendorMasterForm",data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,deleteImageIcon:!1,editMode:!1,VendorTypes:[{name:"Person"},{name:"Organization"},{name:"Shop"}],placeHolder:"Select Brand Shop",filterBy:"brand_shop_title",valueProperty:"id",form:new Form({id:"",status_id:"",brand_shop_id:"",vendor_name:"",vendor_email:"",vendor_phone:"",vendor_type:"",vendor_contact_name:"",vendor_nid:"",vendor_tin:"",vendor_bank_details:"",vendor_desc:"",vendor_address:"",dist_zone_id:"",enable_notify:"",vendor_img:""})}},computed:a(a({},Object(r.b)("commonStoreForAll",["userStatus","branches","Dist_Zones"])),Object(r.b)("VendorMasterStore",["autoSearchBrandShop","selectedBrandShop"])),methods:{onImageChange:function(t){var e=this,s=t.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(s);var r=new FileReader;s.size>512e3?toastr.warning("Please select file size within 500kb"):(r.onloadend=function(t){e.form.vendor_img=r.result},r.readAsDataURL(s))},storeFormData:function(){var t=this;this.$Progress.start(),this.form.post("/spa/Vendor-Info").then((function(e){var s=e.data;s.success&&(toastr.success(s.success),t.$Progress.finish(),t.form.reset(),t.$refs.vendor_img.value="",t.ShowOnChangeImage=null,t.$router.push({path:"/spa/VendorMaster"})),s.errors&&(t.$Progress.fail(),toastr.warning(s.errors))})).catch((function(){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},updateFormData:function(){var t=this;this.$Progress.start(),this.form.put("/spa/Vendor-Info/"+this.form.id).then((function(e){var s=e.data;s.success&&(t.$Progress.finish(),toastr.success(s.success),t.form.reset(),t.editMode=!1,t.$refs.vendor_img.value="",t.ShowOnChangeImage=null,t.$router.push({path:"/spa/VendorMaster"})),s.errors&&(t.$Progress.fail(),toastr.warning(s.errors))})).catch((function(){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},deleteImage:function(t){var e=this;this.$Progress.start(),axios.post("/spa/Vendor-Info-DeleteImage/"+t).then((function(t){var s=t.data;e.deleteImageIcon=!1,e.form.vendor_img=null,e.$Progress.finish(),toastr.success(s.success)})).catch((function(){e.$Progress.fail(),toastr.warning("Something is wrong!")}))},fillForm:function(){null!=this.$route.params.data&&(this.editMode=!0,this.form.reset(),this.form.fill(this.$route.params.data),null===this.$route.params.data.brand_shop_id&&(this.form.brand_shop_id=""),null!=this.$route.params.data.vendor_img&&(this.deleteImageIcon=!0)),this.$store.dispatch("VendorMasterStore/fetchSelectedBrandShop",this.form.brand_shop_id)},AutoCompleteSearchForDataBrandShop:function(t){this.$store.dispatch("VendorMasterStore/AutoCompleteSearchForDataBrandShop",t)},getSelectedDataByIdsForBrandShop:function(t){this.$store.dispatch("VendorMasterStore/fetchSelectedBrandShop",this.form.brand_shop_id)}},created:function(){this.fillForm(),this.$store.dispatch("commonStoreForAll/userStatus"),this.$store.dispatch("commonStoreForAll/fetchDistrictZoneList"),this.$store.dispatch("commonStoreForAll/fetchBranches")}},l=s(0),d=Object(l.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card vue-card-item"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5 col-sm-6"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}]},[t._v("New Vendor")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}]},[t._v("Update - "+t._s(t.form.vendor_name))])]),t._v(" "),s("div",{staticClass:"col-md-7 col-sm-6 text-right"},[s("router-link",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{to:"/spa/VendorMaster"}},[s("i",{staticClass:"fas fa-user-tie"}),t._v(" Vendor List\r\n        \t")])],1)])]),t._v(" "),s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(e){e.preventDefault(),t.editMode?t.updateFormData():t.storeFormData()}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 offset-1"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9 col-sm-12"},[s("div",{staticClass:"row form-group"},[t._m(0),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_name,expression:"form.vendor_name"}],ref:"vendor_name",staticClass:"form-control",class:{"is-invalid":t.form.errors.has("vendor_name")},attrs:{type:"text",name:"vendor_name",placeholder:"Vendor Name"},domProps:{value:t.form.vendor_name},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_name",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"vendor_name"}})],1)]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(1),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_contact_name,expression:"form.vendor_contact_name"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_contact_name",placeholder:"Contact person name"},domProps:{value:t.form.vendor_contact_name},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_contact_name",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(2),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_email,expression:"form.vendor_email"}],ref:"vendor_email",staticClass:"form-control",class:{"is-invalid":t.form.errors.has("vendor_email")},attrs:{type:"text",name:"vendor_email",placeholder:"Vendor Email"},domProps:{value:t.form.vendor_email},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_email",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"vendor_email"}})],1)]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(3),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("div",{staticClass:"input-group input-group-sm- mb-3"},[t._m(4),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_phone,expression:"form.vendor_phone"}],ref:"vendor_phone",staticClass:"form-control form-control-sm-",class:{"is-invalid":t.form.errors.has("vendor_phone")},attrs:{type:"number",name:"vendor_phone",placeholder:"Enter vendor_phone number"},domProps:{value:t.form.vendor_phone},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_phone",e.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"vendor_phone"}})],1)])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(5),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.status_id,expression:"form.status_id"}],staticClass:"form-control form-control-sm-",class:{"is-invalid":t.form.errors.has("status_id")},attrs:{id:"status_id",name:"status_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"status_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Select Status ..")]),t._v(" "),t._l(t.userStatus,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.us_name))])}))],2),t._v(" "),s("has-error",{attrs:{form:t.form,field:"status_id"}})],1)]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(6),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_type,expression:"form.vendor_type"}],staticClass:"form-control form-control-sm-",class:{"is-invalid":t.form.errors.has("vendor_type")},attrs:{id:"vendor_type",name:"vendor_type"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"vendor_type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Select Vendor type ..")]),t._v(" "),t._l(t.VendorTypes,(function(e){return s("option",{domProps:{value:e.name}},[t._v("\r\n                          "+t._s(e.name)+"\r\n                        ")])}))],2),t._v(" "),s("has-error",{attrs:{form:t.form,field:"vendor_type"}})],1)]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(7),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("single-select-app-one",{attrs:{options:t.selectedBrandShop,autoSearchOptions:t.autoSearchBrandShop,filterBy:t.filterBy,"place-holder":t.placeHolder,"value-property":t.valueProperty},on:{getAllDataListByIds:t.getSelectedDataByIdsForBrandShop,AutoCompleteSearchForData:t.AutoCompleteSearchForDataBrandShop},model:{value:t.form.brand_shop_id,callback:function(e){t.$set(t.form,"brand_shop_id",e)},expression:"form.brand_shop_id"}})],1)]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(8),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_nid,expression:"form.vendor_nid"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_nid",placeholder:"NID"},domProps:{value:t.form.vendor_nid},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_nid",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(9),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_tin,expression:"form.vendor_tin"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_tin",placeholder:"TIN"},domProps:{value:t.form.vendor_tin},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_tin",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(10),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_bank_details,expression:"form.vendor_bank_details"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_bank_details",placeholder:"Bank account details"},domProps:{value:t.form.vendor_bank_details},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_bank_details",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(11),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.vendor_address,expression:"form.vendor_address"}],staticClass:"form-control",attrs:{name:"vendor_address",placeholder:"Vendor Address"},domProps:{value:t.form.vendor_address},on:{input:function(e){e.target.composing||t.$set(t.form,"vendor_address",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(12),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.dist_zone_id,expression:"form.dist_zone_id"}],staticClass:"form-control form-control-sm-",attrs:{id:"dist_zone_id",name:"dist_zone_id"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"dist_zone_id",e.target.multiple?s:s[0])}}},[s("option",{attrs:{disabled:"",value:""}},[t._v("Select zone / Area ..")]),t._v(" "),t._l(t.Dist_Zones,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.zone_name)+" ("+t._s(e.zip_code)+")")])}))],2)])]),t._v(" "),s("div",{staticClass:"row form-group"},[t._m(13),t._v(" "),s("div",{staticClass:"col-sm-10"},[s("vue-editor",{staticClass:"form-control-",attrs:{name:"vendor_desc",placeholder:"Vendor Details"},model:{value:t.form.vendor_desc,callback:function(e){t.$set(t.form,"vendor_desc",e)},expression:"form.vendor_desc"}})],1)])]),t._v(" "),s("div",{staticClass:"col-md-3 col-sm-12"},[s("div",{staticClass:"row pt-2"},[s("div",{staticClass:"col-md-12 text-center"},[null!=t.ShowOnChangeImage?s("span",[null!=t.ShowOnChangeImage?s("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px","//height":"auto"},attrs:{src:t.ShowOnChangeImage}}):t._e()]):s("span",["undefined"==t.form.vendor_img?s("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px"},attrs:{src:"../"+t.NoIconUrl}}):t._e(),t._v(" "),""===t.form.vendor_img||null===t.form.vendor_img?s("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px"},attrs:{src:"../"+t.NoIconUrl}}):""!=t.form.vendor_img?s("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"150px",height:"130px"},attrs:{src:t.form.vendor_img}}):t._e(),t._v(" "),t.deleteImageIcon?s("i",{staticClass:"far fa-times-circle",staticStyle:{cursor:"pointer",background:"#fff",padding:"4px 2px 2px 2px",color:"red","border-radius":"10px","margin-left":"-15px"},attrs:{title:"click to Delete"},on:{click:function(e){return t.deleteImage(t.form.id)}}}):t._e()])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"vendor_img"}}),t._v(" "),s("input",{ref:"vendor_img",staticClass:"form-control",attrs:{type:"file",name:"vendor_img"},on:{change:t.onImageChange}})])])])])])])]),t._v(" "),s("div",{staticClass:"row mr-4"},[s("div",{staticClass:"col-12  text-right"},[s("button",{staticClass:"btn btn-primary btn-flat btn-sm ",attrs:{type:"submit"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}]},[s("i",{staticClass:"fas fa-save"}),t._v(" Save")]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}]},[s("i",{staticClass:"far fa-edit"}),t._v(" Update")])])])])])]),t._v(" "),s("div",{staticClass:"card-footer"})])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Vendor Name *")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Contact Person")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Email *")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Phone *")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v(" +88 ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Status *")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Vendor Type *")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Brand Shop")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("NID")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("TIN")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Bank details")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Address")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Zone")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-sm-2 text-right"},[e("label",{staticClass:"pt-2"},[this._v("Details")])])}],!1,null,null,null);e.default=d.exports}}]);