(self.webpackChunk=self.webpackChunk||[]).push([[1699],{17674:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});const a={data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,editMode:!1,form:new Form({id:"",currency_name:"",currency_code:"",currency_short_code:"",currency_value:"",currency_icon:"",is_enabled:""})}},methods:{onImageChange:function(e){var r=this,t=e.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(t);var a=new FileReader;t.size>512e3?toastr.warning("Please select file size within 500kb"):(a.onloadend=function(e){r.form.currency_icon=a.result},a.readAsDataURL(t))},addCurrency:function(){var e=this;this.editMode=!1,this.form.reset(),setTimeout((function(){e.$refs.currency_name.focus()}),600)},editCurrency:function(e){this.editMode=!0,this.form.reset(),this.form.fill(e)},ClearForm:function(){this.editMode=!1,this.form.reset(),this.form.clear()},storeFormData:function(){var e=this;this.$Progress.start(),this.form.post("/spa/Currency-Info").then((function(r){var t=r.data;t.success&&(FireEvent.$emit("AfterChange"),toastr.success(t.success),e.$Progress.finish(),e.form.reset(),e.$refs.currency_icon.value="",e.ShowOnChangeImage=null,$("#currencyModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){e.$Progress.fail(),toastr.warning("Something is wrong!")}))},updateFormData:function(){var e=this;this.$Progress.start(),this.form.put("/spa/Currency-Info/"+this.form.id).then((function(r){var t=r.data;t.success&&(FireEvent.$emit("AfterChange"),e.$Progress.finish(),toastr.success(t.success),e.form.reset(),e.editMode=!1,e.$refs.currency_icon.value="",e.ShowOnChangeImage=null,$("#currencyModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){e.$Progress.fail(),toastr.warning("Something is wrong!")}))}},created:function(){var e=this;FireEvent.$on("editCurrency",(function(r){e.editCurrency(r)})),FireEvent.$on("addCurrency",(function(){e.addCurrency()}))}};const s=(0,t(51900).Z)(a,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("span",[t("div",{staticClass:"modal fade",attrs:{id:"currencyModal",tabindex:"-1",role:"dialog","aria-labelledby":"","aria-hidden":"true","data-backdrop":"static"}},[t("div",{staticClass:"modal-dialog modal-lg-",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:""}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}]},[e._v("Add Currency")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}]},[e._v("Update Currency")])]),e._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(r){return e.ClearForm()}}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),e._v(" "),t("form",{on:{submit:function(r){r.preventDefault(),e.editMode?e.updateFormData():e.storeFormData()}}},[t("div",{staticClass:"modal-body pt-0"},[t("div",{staticClass:"card--"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-sm-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v("Currency Name *")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.currency_name,expression:"form.currency_name"}],ref:"currency_name",staticClass:"form-control",class:{"is-invalid":e.form.errors.has("currency_name")},attrs:{type:"text",name:"currency_name",placeholder:"Currency Name"},domProps:{value:e.form.currency_name},on:{input:function(r){r.target.composing||e.$set(e.form,"currency_name",r.target.value)}}}),e._v(" "),t("has-error",{attrs:{form:e.form,field:"currency_name"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",[e._v("Currency Code")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.currency_code,expression:"form.currency_code"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("currency_code")},attrs:{type:"text",name:"currency_code",placeholder:"Enter currency code"},domProps:{value:e.form.currency_code},on:{input:function(r){r.target.composing||e.$set(e.form,"currency_code",r.target.value)}}}),e._v(" "),t("has-error",{attrs:{form:e.form,field:"currency_code"}})],1),e._v(" "),t("div",{staticClass:"form-group"},[t("label",[e._v("Short Code")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.currency_short_code,expression:"form.currency_short_code"}],staticClass:"form-control",attrs:{type:"text",name:"currency_short_code",placeholder:"currency Short code"},domProps:{value:e.form.currency_short_code},on:{input:function(r){r.target.composing||e.$set(e.form,"currency_short_code",r.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",[e._v("Currency Value (1$)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.currency_value,expression:"form.currency_value"}],staticClass:"form-control",attrs:{type:"text",name:"currency_value",placeholder:"Enter currency value"},domProps:{value:e.form.currency_value},on:{input:function(r){r.target.composing||e.$set(e.form,"currency_value",r.target.value)}}})]),e._v(" "),t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.is_enabled,expression:"form.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"is_enabled",id:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.form.is_enabled)?e._i(e.form.is_enabled,"1")>-1:e.form.is_enabled},on:{change:function(r){var t=e.form.is_enabled,a=r.target,s=!!a.checked;if(Array.isArray(t)){var o=e._i(t,"1");a.checked?o<0&&e.$set(e.form,"is_enabled",t.concat(["1"])):o>-1&&e.$set(e.form,"is_enabled",t.slice(0,o).concat(t.slice(o+1)))}else e.$set(e.form,"is_enabled",s)}}}),e._v(" "),t("label",{staticClass:"form-check-label",attrs:{for:"checkbox"}},[e._v("Is Active")])]),e._v(" "),t("div",{staticClass:"row pt-3"},[t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"currency_icon"}},[e._v("Image")]),e._v(" "),t("input",{ref:"currency_icon",staticClass:"form-control",attrs:{type:"file",name:"currency_icon"},on:{change:e.onImageChange}})])]),e._v(" "),t("div",{staticClass:"col-md-3"},[null!=e.ShowOnChangeImage?t("span",[null!=e.ShowOnChangeImage?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:e.ShowOnChangeImage}}):e._e()]):t("span",["undefined"==e.form.currency_icon?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+e.NoIconUrl}}):e._e(),e._v(" "),""===e.form.currency_icon||null===e.form.currency_icon?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+e.NoIconUrl}}):""!=e.form.currency_icon?t("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+e.form.currency_icon}}):e._e()])])])])])])]),e._v(" "),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger btn-flat btn-sm close-form",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(r){return e.ClearForm()}}},[e._v("Close")]),e._v(" "),t("button",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}]},[t("i",{staticClass:"fas fa-save"}),e._v(" Save")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}]},[t("i",{staticClass:"far fa-edit"}),e._v(" Update")])])])])])])])])}),[],!1,null,null,null).exports}}]);