(self.webpackChunk=self.webpackChunk||[]).push([[8958],{26469:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(20629);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const i={name:"VendorMasterForm",data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,deleteImageIcon:!1,editMode:!1,VendorTypes:[{name:"Person"},{name:"Organization"},{name:"Shop"}],placeHolder:"Select Brand Shop",filterBy:"brand_shop_title",valueProperty:"id",form:new Form({id:"",status_id:"",brand_shop_id:"",vendor_name:"",vendor_email:"",vendor_phone:"",vendor_type:"",vendor_contact_name:"",vendor_nid:"",vendor_tin:"",vendor_bank_details:"",vendor_desc:"",vendor_address:"",dist_zone_id:"",enable_notify:"",vendor_img:""})}},computed:a(a({},(0,s.rn)("commonStoreForAll",["userStatus","branches","Dist_Zones"])),(0,s.rn)("VendorMasterStore",["autoSearchBrandShop","selectedBrandShop"])),methods:{onImageChange:function(e){var t=this,r=e.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(r);var s=new FileReader;r.size>512e3?toastr.warning("Please select file size within 500kb"):(s.onloadend=function(e){t.form.vendor_img=s.result},s.readAsDataURL(r))},storeFormData:function(){var e=this;this.$Progress.start(),this.form.post("/spa/Vendor-Info").then((function(t){var r=t.data;r.success&&(toastr.success(r.success),e.$Progress.finish(),e.form.reset(),e.$refs.vendor_img.value="",e.ShowOnChangeImage=null,e.$router.push({path:"/spa/VendorMaster"})),r.errors&&(e.$Progress.fail(),toastr.warning(r.errors))})).catch((function(){e.$Progress.fail(),toastr.warning("Something is wrong!")}))},updateFormData:function(){var e=this;this.$Progress.start(),this.form.put("/spa/Vendor-Info/"+this.form.id).then((function(t){var r=t.data;r.success&&(e.$Progress.finish(),toastr.success(r.success),e.form.reset(),e.editMode=!1,e.$refs.vendor_img.value="",e.ShowOnChangeImage=null,e.$router.push({path:"/spa/VendorMaster"})),r.errors&&(e.$Progress.fail(),toastr.warning(r.errors))})).catch((function(){e.$Progress.fail(),toastr.warning("Something is wrong!")}))},deleteImage:function(e){var t=this;this.$Progress.start(),axios.post("/spa/Vendor-Info-DeleteImage/"+e).then((function(e){var r=e.data;t.deleteImageIcon=!1,t.form.vendor_img=null,t.$Progress.finish(),toastr.success(r.success)})).catch((function(){t.$Progress.fail(),toastr.warning("Something is wrong!")}))},fillForm:function(){null!=this.$route.params.data&&(this.editMode=!0,this.form.reset(),this.form.fill(this.$route.params.data),null===this.$route.params.data.brand_shop_id&&(this.form.brand_shop_id=""),null!=this.$route.params.data.vendor_img&&(this.deleteImageIcon=!0)),this.$store.dispatch("VendorMasterStore/fetchSelectedBrandShop",this.form.brand_shop_id)},AutoCompleteSearchForDataBrandShop:function(e){this.$store.dispatch("VendorMasterStore/AutoCompleteSearchForDataBrandShop",e)},getSelectedDataByIdsForBrandShop:function(e){this.$store.dispatch("VendorMasterStore/fetchSelectedBrandShop",this.form.brand_shop_id)}},created:function(){this.fillForm(),this.$store.dispatch("commonStoreForAll/userStatus"),this.$store.dispatch("commonStoreForAll/fetchDistrictZoneList"),this.$store.dispatch("commonStoreForAll/fetchBranches")}};const l=(0,r(51900).Z)(i,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card vue-card-item"},[r("div",{staticClass:"card-header"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-5 col-sm-6"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}]},[e._v("New Vendor")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}]},[e._v("Update - "+e._s(e.form.vendor_name))])]),e._v(" "),r("div",{staticClass:"col-md-7 col-sm-6 text-right"},[r("router-link",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{to:"/spa/VendorMaster"}},[r("i",{staticClass:"fas fa-user-tie"}),e._v(" Vendor List\r\n        \t")])],1)])]),e._v(" "),r("div",{staticClass:"card-body"},[r("form",{on:{submit:function(t){t.preventDefault(),e.editMode?e.updateFormData():e.storeFormData()}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-10 offset-1"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-9 col-sm-12"},[r("div",{staticClass:"row form-group"},[e._m(0),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_name,expression:"form.vendor_name"}],ref:"vendor_name",staticClass:"form-control",class:{"is-invalid":e.form.errors.has("vendor_name")},attrs:{type:"text",name:"vendor_name",placeholder:"Vendor Name"},domProps:{value:e.form.vendor_name},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_name",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"vendor_name"}})],1)]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(1),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_contact_name,expression:"form.vendor_contact_name"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_contact_name",placeholder:"Contact person name"},domProps:{value:e.form.vendor_contact_name},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_contact_name",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(2),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_email,expression:"form.vendor_email"}],ref:"vendor_email",staticClass:"form-control",class:{"is-invalid":e.form.errors.has("vendor_email")},attrs:{type:"text",name:"vendor_email",placeholder:"Vendor Email"},domProps:{value:e.form.vendor_email},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_email",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"vendor_email"}})],1)]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(3),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("div",{staticClass:"input-group input-group-sm- mb-3"},[e._m(4),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_phone,expression:"form.vendor_phone"}],ref:"vendor_phone",staticClass:"form-control form-control-sm-",class:{"is-invalid":e.form.errors.has("vendor_phone")},attrs:{type:"number",name:"vendor_phone",placeholder:"Enter vendor_phone number"},domProps:{value:e.form.vendor_phone},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_phone",t.target.value)}}}),e._v(" "),r("has-error",{attrs:{form:e.form,field:"vendor_phone"}})],1)])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(5),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.status_id,expression:"form.status_id"}],staticClass:"form-control form-control-sm-",class:{"is-invalid":e.form.errors.has("status_id")},attrs:{id:"status_id",name:"status_id"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"status_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Select Status ..")]),e._v(" "),e._l(e.userStatus,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.us_name))])}))],2),e._v(" "),r("has-error",{attrs:{form:e.form,field:"status_id"}})],1)]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(6),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_type,expression:"form.vendor_type"}],staticClass:"form-control form-control-sm-",class:{"is-invalid":e.form.errors.has("vendor_type")},attrs:{id:"vendor_type",name:"vendor_type"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"vendor_type",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Select Vendor type ..")]),e._v(" "),e._l(e.VendorTypes,(function(t){return r("option",{domProps:{value:t.name}},[e._v("\r\n                          "+e._s(t.name)+"\r\n                        ")])}))],2),e._v(" "),r("has-error",{attrs:{form:e.form,field:"vendor_type"}})],1)]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(7),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("single-select-app-one",{attrs:{options:e.selectedBrandShop,autoSearchOptions:e.autoSearchBrandShop,filterBy:e.filterBy,"place-holder":e.placeHolder,"value-property":e.valueProperty},on:{getAllDataListByIds:e.getSelectedDataByIdsForBrandShop,AutoCompleteSearchForData:e.AutoCompleteSearchForDataBrandShop},model:{value:e.form.brand_shop_id,callback:function(t){e.$set(e.form,"brand_shop_id",t)},expression:"form.brand_shop_id"}})],1)]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(8),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_nid,expression:"form.vendor_nid"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_nid",placeholder:"NID"},domProps:{value:e.form.vendor_nid},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_nid",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(9),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_tin,expression:"form.vendor_tin"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_tin",placeholder:"TIN"},domProps:{value:e.form.vendor_tin},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_tin",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(10),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_bank_details,expression:"form.vendor_bank_details"}],staticClass:"form-control",attrs:{type:"text",name:"vendor_bank_details",placeholder:"Bank account details"},domProps:{value:e.form.vendor_bank_details},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_bank_details",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(11),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.vendor_address,expression:"form.vendor_address"}],staticClass:"form-control",attrs:{name:"vendor_address",placeholder:"Vendor Address"},domProps:{value:e.form.vendor_address},on:{input:function(t){t.target.composing||e.$set(e.form,"vendor_address",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(12),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.form.dist_zone_id,expression:"form.dist_zone_id"}],staticClass:"form-control form-control-sm-",attrs:{id:"dist_zone_id",name:"dist_zone_id"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.form,"dist_zone_id",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:""}},[e._v("Select zone / Area ..")]),e._v(" "),e._l(e.Dist_Zones,(function(t){return r("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.zone_name)+" ("+e._s(t.zip_code)+")")])}))],2)])]),e._v(" "),r("div",{staticClass:"row form-group"},[e._m(13),e._v(" "),r("div",{staticClass:"col-sm-10"},[r("vue-editor",{staticClass:"form-control-",attrs:{name:"vendor_desc",placeholder:"Vendor Details"},model:{value:e.form.vendor_desc,callback:function(t){e.$set(e.form,"vendor_desc",t)},expression:"form.vendor_desc"}})],1)])]),e._v(" "),r("div",{staticClass:"col-md-3 col-sm-12"},[r("div",{staticClass:"row pt-2"},[r("div",{staticClass:"col-md-12 text-center"},[null!=e.ShowOnChangeImage?r("span",[null!=e.ShowOnChangeImage?r("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px","//height":"auto"},attrs:{src:e.ShowOnChangeImage}}):e._e()]):r("span",["undefined"==e.form.vendor_img?r("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px"},attrs:{src:"../"+e.NoIconUrl}}):e._e(),e._v(" "),""===e.form.vendor_img||null===e.form.vendor_img?r("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"150px",height:"130px"},attrs:{src:"../"+e.NoIconUrl}}):""!=e.form.vendor_img?r("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"150px",height:"130px"},attrs:{src:e.form.vendor_img}}):e._e(),e._v(" "),e.deleteImageIcon?r("i",{staticClass:"far fa-times-circle",staticStyle:{cursor:"pointer",background:"#fff",padding:"4px 2px 2px 2px",color:"red","border-radius":"10px","margin-left":"-15px"},attrs:{title:"click to Delete"},on:{click:function(t){return e.deleteImage(e.form.id)}}}):e._e()])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"vendor_img"}}),e._v(" "),r("input",{ref:"vendor_img",staticClass:"form-control",attrs:{type:"file",name:"vendor_img"},on:{change:e.onImageChange}})])])])])])])]),e._v(" "),r("div",{staticClass:"row mr-4"},[r("div",{staticClass:"col-12  text-right"},[r("button",{staticClass:"btn btn-primary btn-flat btn-sm ",attrs:{type:"submit"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.editMode,expression:"!editMode"}]},[r("i",{staticClass:"fas fa-save"}),e._v(" Save")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.editMode,expression:"editMode"}]},[r("i",{staticClass:"far fa-edit"}),e._v(" Update")])])])])])]),e._v(" "),r("div",{staticClass:"card-footer"})])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Vendor Name *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Contact Person")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Email *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Phone *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"input-group-prepend"},[r("span",{staticClass:"input-group-text"},[e._v(" +88 ")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Status *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Vendor Type *")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Brand Shop")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("NID")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("TIN")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Bank details")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Address")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Zone")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-sm-2 text-right"},[r("label",{staticClass:"pt-2"},[e._v("Details")])])}],!1,null,null,null).exports},51900:(e,t,r)=>{"use strict";function s(e,t,r,s,o,a,n,i){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=r,d._compiled=!0),s&&(d.functional=!0),a&&(d._scopeId="data-v-"+a),n?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},d._ssrRegister=l):o&&(l=i?function(){o.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var m=d.beforeCreate;d.beforeCreate=m?[].concat(m,l):[l]}return{exports:e,options:d}}r.d(t,{Z:()=>s})}}]);