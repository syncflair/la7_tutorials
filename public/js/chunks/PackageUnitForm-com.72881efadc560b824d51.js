(self.webpackChunk=self.webpackChunk||[]).push([[4532],{62935:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>i});const s={data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,editMode:!1,form:new Form({id:"",package_title:"",package_unit:"",package_desc:"",package_icon:"",is_enabled:""})}},methods:{onImageChange:function(a){var e=this,t=a.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(t);var s=new FileReader;t.size>512e3?toastr.warning("Please select file size within 500kb"):(s.onloadend=function(a){e.form.package_icon=s.result},s.readAsDataURL(t))},addPackageUnit:function(){var a=this;this.editMode=!1,this.form.reset(),setTimeout((function(){a.$refs.package_title.focus()}),600)},editPackageUnit:function(a){this.editMode=!0,this.form.reset(),this.form.fill(a)},ClearForm:function(){this.editMode=!1,this.form.reset(),this.form.clear()},storeFormData:function(){var a=this;this.$Progress.start(),this.form.post("/spa/PackageUnit-Info").then((function(e){var t=e.data;t.success&&(FireEvent.$emit("AfterChange"),toastr.success(t.success),a.$Progress.finish(),a.form.reset(),a.$refs.package_icon.value="",a.ShowOnChangeImage=null,$("#PackageModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){a.$Progress.fail(),toastr.warning("Something is wrong!")}))},updateFormData:function(){var a=this;this.$Progress.start(),this.form.put("/spa/PackageUnit-Info/"+this.form.id).then((function(e){var t=e.data;t.success&&(FireEvent.$emit("AfterChange"),a.$Progress.finish(),toastr.success(t.success),a.form.reset(),a.editMode=!1,a.$refs.package_icon.value="",a.ShowOnChangeImage=null,$("#PackageModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){a.$Progress.fail(),toastr.warning("Something is wrong!")}))}},created:function(){var a=this;FireEvent.$on("editPackageUnit",(function(e){a.editPackageUnit(e)})),FireEvent.$on("addPackageUnit",(function(){a.addPackageUnit()}))}};const i=(0,t(51900).Z)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("span",[t("div",{staticClass:"modal fade",attrs:{id:"PackageModal",tabindex:"-1",role:"dialog","aria-labelledby":"","aria-hidden":"true","data-backdrop":"static"}},[t("div",{staticClass:"modal-dialog modal-lg-",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:""}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.editMode,expression:"!editMode"}]},[a._v("Add Package")]),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.editMode,expression:"editMode"}]},[a._v("Update Package")])]),a._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return a.ClearForm()}}},[t("span",{attrs:{"aria-hidden":"true"}},[a._v("Ã—")])])]),a._v(" "),t("form",{on:{submit:function(e){e.preventDefault(),a.editMode?a.updateFormData():a.storeFormData()}}},[t("div",{staticClass:"modal-body pt-0"},[t("div",{staticClass:"card--"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-sm-12"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Package Name *")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.package_title,expression:"form.package_title"}],ref:"package_title",staticClass:"form-control",class:{"is-invalid":a.form.errors.has("package_title")},attrs:{type:"text",name:"package_title",placeholder:"Package Name"},domProps:{value:a.form.package_title},on:{input:function(e){e.target.composing||a.$set(a.form,"package_title",e.target.value)}}}),a._v(" "),t("has-error",{attrs:{form:a.form,field:"package_title"}})],1),a._v(" "),t("div",{staticClass:"form-group"},[t("label",[a._v("Package Code")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.package_unit,expression:"form.package_unit"}],ref:"package_unit",staticClass:"form-control",class:{"is-invalid":a.form.errors.has("package_unit")},attrs:{type:"text",name:"package_unit",placeholder:"Enter Package code"},domProps:{value:a.form.package_unit},on:{input:function(e){e.target.composing||a.$set(a.form,"package_unit",e.target.value)}}}),a._v(" "),t("has-error",{attrs:{form:a.form,field:"package_unit"}})],1),a._v(" "),t("div",{staticClass:"form-group"},[t("label",[a._v("Package Details")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.package_desc,expression:"form.package_desc"}],ref:"package_desc",staticClass:"form-control",class:{"is-invalid":a.form.errors.has("package_desc")},attrs:{type:"text",name:"package_desc",placeholder:"Enter Package details"},domProps:{value:a.form.package_desc},on:{input:function(e){e.target.composing||a.$set(a.form,"package_desc",e.target.value)}}}),a._v(" "),t("has-error",{attrs:{form:a.form,field:"package_desc"}})],1),a._v(" "),t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.is_enabled,expression:"form.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"is_enabled",id:"checkbox",value:"1"},domProps:{checked:Array.isArray(a.form.is_enabled)?a._i(a.form.is_enabled,"1")>-1:a.form.is_enabled},on:{change:function(e){var t=a.form.is_enabled,s=e.target,i=!!s.checked;if(Array.isArray(t)){var o=a._i(t,"1");s.checked?o<0&&a.$set(a.form,"is_enabled",t.concat(["1"])):o>-1&&a.$set(a.form,"is_enabled",t.slice(0,o).concat(t.slice(o+1)))}else a.$set(a.form,"is_enabled",i)}}}),a._v(" "),t("label",{staticClass:"form-check-label",attrs:{for:"checkbox"}},[a._v("Is Active")])]),a._v(" "),t("div",{staticClass:"row pt-3"},[t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"package_icon"}},[a._v("Image")]),a._v(" "),t("input",{ref:"package_icon",staticClass:"form-control",attrs:{type:"file",name:"package_icon"},on:{change:a.onImageChange}})])]),a._v(" "),t("div",{staticClass:"col-md-3"},[null!=a.ShowOnChangeImage?t("span",[null!=a.ShowOnChangeImage?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:a.ShowOnChangeImage}}):a._e()]):t("span",["undefined"==a.form.package_icon?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+a.NoIconUrl}}):a._e(),a._v(" "),""===a.form.package_icon||null===a.form.package_icon?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+a.NoIconUrl}}):""!=a.form.package_icon?t("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+a.form.package_icon}}):a._e()])])])])])])]),a._v(" "),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger btn-flat btn-sm close-form",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return a.ClearForm()}}},[a._v("Close")]),a._v(" "),t("button",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.editMode,expression:"!editMode"}]},[t("i",{staticClass:"fas fa-save"}),a._v(" Save")]),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.editMode,expression:"editMode"}]},[t("i",{staticClass:"far fa-edit"}),a._v(" Update")])])])])])])])])}),[],!1,null,null,null).exports}}]);