(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{310:function(a,e,t){"use strict";t.r(e);var s={data:function(){return{NoIconUrl:"FilesStorage/CommonFiles/no-img.png",ShowOnChangeImage:null,editMode:!1,form:new Form({id:"",brand_name:"",brand_url:"",brand_desc:"",brand_img:"",is_enabled:""})}},methods:{onImageChange:function(a){var e=this,t=a.target.files[0];this.ShowOnChangeImage=URL.createObjectURL(t);var s=new FileReader;t.size>512e3?toastr.warning("Please select file size within 500kb"):(s.onloadend=function(a){e.form.brand_img=s.result},s.readAsDataURL(t))},addBrand:function(){this.editMode=!1,this.form.reset()},editBrand:function(a){this.editMode=!0,this.form.reset(),this.form.fill(a)},ClearForm:function(){this.editMode=!1,this.form.reset(),this.form.clear()},storeFormData:function(){var a=this;this.$Progress.start(),this.form.post("/spa/Brand-Info").then((function(e){var t=e.data;t.success&&(FireEvent.$emit("AfterChange"),toastr.success(t.success),a.$Progress.finish(),a.form.reset(),a.$refs.brand_img.value="",a.ShowOnChangeImage=null,$("#formModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){a.$Progress.fail(),toastr.warning("Something is wrong!")}))},updateFormData:function(){var a=this;this.$Progress.start(),this.form.put("/spa/Brand-Info/"+this.form.id).then((function(e){var t=e.data;t.success&&(FireEvent.$emit("AfterChange"),a.$Progress.finish(),toastr.success(t.success),a.form.reset(),a.editMode=!1,a.$refs.brand_img.value="",a.ShowOnChangeImage=null,$("#formModal").modal("hide")),t.errors&&toastr.warning(t.errors)})).catch((function(){a.$Progress.fail(),toastr.warning("Something is wrong!")}))}},created:function(){var a=this;FireEvent.$on("editBrand",(function(e){a.editBrand(e)})),FireEvent.$on("addBrand",(function(){a.addBrand()}))}},r=t(0),i=Object(r.a)(s,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("span",[t("div",{staticClass:"modal fade",attrs:{id:"formModal",tabindex:"-1",role:"dialog","aria-labelledby":"","aria-hidden":"true","data-backdrop":"static"}},[t("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title",attrs:{id:""}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.editMode,expression:"!editMode"}]},[a._v("Add Brand")]),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.editMode,expression:"editMode"}]},[a._v("Update Brand")])]),a._v(" "),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return a.ClearForm()}}},[t("span",{attrs:{"aria-hidden":"true"}},[a._v("Ã—")])])]),a._v(" "),t("form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.preventDefault(),a.editMode?a.updateFormData():a.storeFormData()}}},[t("div",{staticClass:"modal-body pt-0"},[t("div",{staticClass:"card--"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-sm-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Brand Name *")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.brand_name,expression:"form.brand_name"}],ref:"brand_name",staticClass:"form-control",class:{"is-invalid":a.form.errors.has("brand_name")},attrs:{type:"text",name:"brand_name",placeholder:"Brand Name"},domProps:{value:a.form.brand_name},on:{input:function(e){e.target.composing||a.$set(a.form,"brand_name",e.target.value)}}}),a._v(" "),t("has-error",{attrs:{form:a.form,field:"brand_name"}})],1)]),a._v(" "),t("div",{staticClass:"col-md-8"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Brand URL")]),a._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.brand_url,expression:"form.brand_url"}],ref:"brand_url",staticClass:"form-control",class:{"is-invalid":a.form.errors.has("brand_url")},attrs:{type:"text",name:"brand_url",placeholder:"Brand URL"},domProps:{value:a.form.brand_url},on:{input:function(e){e.target.composing||a.$set(a.form,"brand_url",e.target.value)}}}),a._v(" "),t("has-error",{attrs:{form:a.form,field:"brand_url"}})],1)])]),a._v(" "),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"brand_desc"}},[a._v("Details 2")]),a._v(" "),t("vue-editor",{attrs:{name:"brand_desc"},model:{value:a.form.brand_desc,callback:function(e){a.$set(a.form,"brand_desc",e)},expression:"form.brand_desc"}})],1),a._v(" "),t("div",{staticClass:"form-check"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.form.is_enabled,expression:"form.is_enabled"}],staticClass:"form-check-input",attrs:{type:"checkbox",name:"is_enabled",id:"checkbox",value:"1"},domProps:{checked:Array.isArray(a.form.is_enabled)?a._i(a.form.is_enabled,"1")>-1:a.form.is_enabled},on:{change:function(e){var t=a.form.is_enabled,s=e.target,r=!!s.checked;if(Array.isArray(t)){var i=a._i(t,"1");s.checked?i<0&&a.$set(a.form,"is_enabled",t.concat(["1"])):i>-1&&a.$set(a.form,"is_enabled",t.slice(0,i).concat(t.slice(i+1)))}else a.$set(a.form,"is_enabled",r)}}}),a._v(" "),t("label",{staticClass:"form-check-label",attrs:{for:"checkbox"}},[a._v("Is Active")])]),a._v(" "),t("div",{staticClass:"row pt-3"},[t("div",{staticClass:"col-md-9"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"brand_img"}},[a._v("Image")]),a._v(" "),t("input",{ref:"brand_img",staticClass:"form-control",attrs:{type:"file",name:"brand_img"},on:{change:a.onImageChange}})])]),a._v(" "),t("div",{staticClass:"col-md-3"},[null!=a.ShowOnChangeImage?t("span",[null!=a.ShowOnChangeImage?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:a.ShowOnChangeImage}}):a._e()]):t("span",["undefined"==a.form.brand_img?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+a.NoIconUrl}}):a._e(),a._v(" "),""===a.form.brand_img||null===a.form.brand_img?t("img",{staticClass:"img-fluid img-thumbnail",staticStyle:{width:"65px",height:"65px"},attrs:{src:"../"+a.NoIconUrl}}):""!=a.form.brand_img?t("img",{staticClass:"img-fluid img-thumbnail focusImgOnHover",staticStyle:{width:"65px",height:"65px"},attrs:{src:a.form.brand_img}}):a._e()])])])])])])]),a._v(" "),t("div",{staticClass:"modal-footer"},[t("button",{staticClass:"btn btn-danger btn-flat btn-sm close-form",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return a.ClearForm()}}},[a._v("Close")]),a._v(" "),t("button",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{type:"submit"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!a.editMode,expression:"!editMode"}]},[t("i",{staticClass:"fas fa-save"}),a._v(" Save")]),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.editMode,expression:"editMode"}]},[t("i",{staticClass:"far fa-edit"}),a._v(" Update")])])])])])])])])}),[],!1,null,null,null);e.default=i.exports}}]);